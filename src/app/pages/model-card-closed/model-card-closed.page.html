<ion-content *ngIf="ticket">

  <ion-card-header>
    <ion-item lines="none">
      <ion-avatar slot="start">
        <img src="{{ticket.foto}}">
      </ion-avatar>
      <ion-label class="font">
        <h3>{{ticket.nome}}</h3>
        <p>{{ticket.prontuario}}</p>
      </ion-label>
      <ion-button color="danger" shape="round" slot="end" (click)="dismiss()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-item>
  </ion-card-header>

  <ion-item class="ion-margin-start" lines="none">
    <ion-label class="font">
      <ion-text color="success">E-mail:</ion-text> {{ticket.email}}
    </ion-label>
    <ion-chip class="cardChip" slot="end" color="secondary">
      <ion-label class="font badge ion-text-wrap">{{ticket.tipo_estagios}}</ion-label>
    </ion-chip>
  </ion-item>


  <ion-list>
    <ion-item class="ion-margin-start ion-margin-end" lines="none">
      <ion-label class="font" style="font-size: 1.4em">
        <ion-text color="success">Data de Resposta:</ion-text>
        {{ticket.data_fechado}}
      </ion-label>

    </ion-item>

    <ion-item class="ion-text-start ion-margin-start" lines="none">
      <ion-label color="success" class="font">Mensagem do Aluno:</ion-label>
    </ion-item>

    <ion-item class="ion-text-start ion-margin-start ion-margin-end" lines="none">
      <ion-label class="font ion-text-wrap ion-text-justify">
        {{ticket.corpo_texto}}
      </ion-label>
    </ion-item>

    <ion-item class="ion-text-start ion-margin-start ion-margin-end" lines="none">
      <ion-label color="success" class="font">Feedback:</ion-label>
      <ion-chip *ngIf="ticket.eAceito" class="nohover" color="success">
        <ion-icon name="checkmark"></ion-icon>
        <ion-label class="font">Aceito</ion-label>
      </ion-chip>
      <ion-chip *ngIf="!ticket.eAceito" class="nohover" color="danger">
        <ion-icon name="close" color="danger"></ion-icon>
        <ion-label class="font">Recusado</ion-label>
      </ion-chip>
    </ion-item>

    <ion-item class="ion-text-start ion-margin-start ion-margin-end" lines="none">
      <ion-label class="font ion-text-wrap ion-text-justify">
        {{ticket.feedback}}
      </ion-label>
    </ion-item>

    <ion-item class="ion-text-start ion-margin-start" lines="none">
      <ion-label color="success" class="font">Documentos:</ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-list style="width: 100%;">
        <ion-card *ngFor="let arquivo of ticket.arquivos" button="true" (click)="showPdf(arquivo.arquivo)">
          <ion-item lines="none" color="success" class="ion-text-center">
            <ion-icon slot="start" name="document-text" class="ion-no-margin"></ion-icon>
            <ion-label class="font">{{arquivo.tipo}}</ion-label>
          </ion-item>
        </ion-card>
      </ion-list>
    </ion-item>
  </ion-list>

  <ion-item class="ion-text-center" lines="none">
    <ion-label>
      <ion-note class="font">Data de Criação do Ticket: {{ticket.data_criado}}</ion-note>
    </ion-label>
  </ion-item>

</ion-content>