<ion-content>

  <ion-card-header>
    <ion-item lines="none">
      <ion-avatar slot="start">
        <img src="{{ticket.foto}}">
      </ion-avatar>
      <ion-label class="font">
        <h3>{{ticket.nome}}</h3>
        <p>{{ticket.prontuario}}</p>
      </ion-label>
      <ion-button color="danger" shape="round" slot="end" (click)="dismiss()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-item>

  </ion-card-header>

  <ion-item class="ion-margin-start" lines="none">
    <ion-label class="font">
      <ion-text color="success">E-mail:</ion-text> {{ticket.email}}
    </ion-label>
    <ion-chip class="cardChip" slot="end" color="secondary">
      <ion-label class="font badge ion-text-wrap">{{ticket.tipo_estagios}}</ion-label>
    </ion-chip>
  </ion-item>

  <ion-item class="ion-margin-start" lines="none">
    <ion-label class="font" style="font-size: 1.4em">
      <ion-text color="success">Data Limite:</ion-text> 
      {{ticket.data_limite}}
    </ion-label>
  </ion-item>

  <ion-list>
    <ion-item class="ion-text-start ion-margin-start" lines="none">
      <ion-label color="success" class="font">Mensagem do Aluno:</ion-label>
    </ion-item>

    <ion-item class="ion-text-start ion-margin-start ion-margin-end" lines="none">
      <ion-label class="font ion-text-wrap ion-text-justify">
        {{ticket.corpo_texto}}
      </ion-label>
    </ion-item>

    <ion-item class="ion-text-start ion-margin-start" lines="none">
      <ion-label color="success" class="font">Documentos:</ion-label>
    </ion-item>

    <ion-item lines="none">
      <ion-list style="width: 100%;" >
        <ion-card *ngFor="let arquivo of ticket.arquivos" button="true" (click)="showPdf(arquivo.arquivo)">
          <ion-item lines="none" color="success" class="ion-text-center">
            <ion-icon slot="start" name="document-text" class="ion-no-margin"></ion-icon>
            <ion-label class="font">{{arquivo.tipo}}</ion-label>
          </ion-item>
        </ion-card>
      </ion-list>
    </ion-item>

    <ion-item style="font-size: 1.4em;" class="font ion-text-start ion-margin-start  ion-margin-end" lines="none">
      <ion-label position="floating" class="font" color="success">Envie um feedback para o Aluno</ion-label>
      <ion-textarea [(ngModel)]="textArea" class="font ion-text-wrap ion-text-justify" rows="3" cols="20"
        placeholder='Olá, tudo bem? No documento X você precisa...'></ion-textarea>
    </ion-item>

  </ion-list>

  <ion-row >
    <ion-col size="6">
      <ion-button class="ion-margin-start" color="success" expand="block" (click)="accept()">
        <ion-label class="font">Aceitar</ion-label>
        <ion-icon slot="start" name="thumbs-up-sharp"></ion-icon>
      </ion-button>
    </ion-col>
    <ion-col >
      <ion-button class="ion-margin-end" color="danger" expand="block" (click)="refuse()">
        <ion-label class="font">Recusar</ion-label>
        <ion-icon slot="start" name="thumbs-down-sharp"></ion-icon>
      </ion-button>
    </ion-col>
  </ion-row>

  <ion-item class="ion-text-center" lines="none">
    <ion-label>
      <ion-note class="font">Data de Criação do Ticket: {{ticket.data_criado}}</ion-note>
    </ion-label>
  </ion-item>

</ion-content>