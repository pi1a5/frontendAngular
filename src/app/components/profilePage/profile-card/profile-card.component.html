<ion-card *ngIf="user">
  <ion-card-header>
    <ion-card-title class="font ion-padding ion-margin" style="font-size: 2em;">
      Perfil
    </ion-card-title>
  </ion-card-header>
  <ion-card-content>
    <ion-list>
      <div class="flex-center">
        <ion-avatar slot="start" style="height: 15em; width: 15em;">
          <img [src]="user.foto" onError="this.src = '../../../assets/avatarIcon.png'">
        </ion-avatar>
      </div>

      <ion-item class=" ion-padding-bottom ion-padding-top ion-margin-start ion-margin-end" lines="full">
        <ion-title slot="start" class="font ion-no-margin" style="color: #474747;">Nome</ion-title>
        <ion-label slot="end" class="font" style="color: #b0b0b0;">{{user.nome}}</ion-label>
        <ion-button slot="end" color="secondary" size="default" (click)="editName()">
          <ion-icon slot="icon-only" name="pencil"></ion-icon>
        </ion-button>
      </ion-item>
      <ion-item class="ion-padding-bottom ion-padding-top ion-margin-start ion-margin-end" lines="full">
        <ion-title slot="start" class="font ion-no-margin" style="color: #474747;">Prontuário</ion-title>
        <ion-label slot="end" class="font" style="color: #b0b0b0;">{{user.prontuario}}</ion-label>
      </ion-item>
     
      <ion-item class="ion-padding-bottom ion-padding-top ion-margin-start ion-margin-end" lines="full">
        <ion-title slot="start" class="font ion-no-margin" style="color: #474747;">E-mail</ion-title>
        <ion-label slot="end" class="font" style="color: #b0b0b0;">{{user.email}}</ion-label>
      </ion-item>
      
      <ion-item class="ion-padding-bottom ion-padding-top ion-margin-start ion-margin-end" lines="full">
        <ion-title slot="start" class="font ion-no-margin" style="color: #474747;">Curso</ion-title>
        <label slot="end" class="font" style="color: #b0b0b0;">{{user.curso}}</label>
        <ion-button slot="end" id="top-center" color="secondary" size="deafult">
          <ion-icon slot="icon-only" name="information-circle">
          </ion-icon>
        </ion-button>
        <ion-popover triggerAction="click" trigger="top-center" side="top" alignment="start" size="auto">
          <ng-template>
            <ion-content class="ion-padding font">
              Área: {{user.area}}.
              <br><br>
              Cursos:<div *ngFor="let course of user.cursos">- {{course.nome}}</div>
            </ion-content>
          </ng-template>
        </ion-popover>
      </ion-item>
    </ion-list>
  </ion-card-content>
</ion-card>

<ion-card *ngIf="user === undefined">
  <div class="flex-center">
    <ion-spinner name="crescent" color="success"></ion-spinner>
  </div>
</ion-card>

<ion-card *ngIf="user === null">
  <div class="flex-center ion-text-center">
    <ion-title class="font" style="color: var(--ion-color-medium-shade);">Erro ao carregar dados do usuário</ion-title>
  </div>
</ion-card>